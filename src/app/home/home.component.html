<ng-container *ngIf="serverWorks && !loading && !imageUrl">
  <form #form="ngForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <div class="dropzone" appDragDrop (fileDropped)="onFileUpload($event)">
        <input 
          title="Neįkeltas joks failas"
          ngModel #inputFile="ngModel" name="inputFile" required
          type="file"   
          id="fileDropRef"
          class="form-control-file"
          (change)="onFileUpload($event)">
        <img class="mb-2" src="../../assets/ic-upload-file.svg" alt="">
        <h3>Įtempkite failą čia</h3>
        <h3>arba</h3>
        <label class="btn btn-danger mb-0 px-5" for="fileDropRef">Įkelkite failą</label>
      </div>
      <div class="alert alert-danger" *ngIf="inputFile.touched && error">
        <div *ngIf="error">
          {{errorText}}
        </div>
      </div>
    </div>

    <!-- <div class="form-group">
      <label class="btn btn-primary">
        Įkelkite failą
        <input 
          ngModel #inputFile="ngModel" name="inputFile" required
          type="file"   
          class="form-control-file"
          style="display: none;"
          (change)="onFileUpload($event)">
      </label>
      <div class="alert alert-danger" *ngIf="inputFile.invalid && inputFile.touched">
        <div *ngIf="inputFile.errors.required">
          Privaloma įkelti failą.
        </div>
      </div>
    </div> -->

    <!-- <button 
      [disabled]="!form.valid"
      class="btn btn-primary">
      Spėti paukščio rūšį
    </button> -->
  </form>
</ng-container>

<div *ngIf="imageUrl" class="card" style="width: 18rem;">
  <img class="card-img-top" src="{{imageUrl}}" alt="Card image">
  <div *ngIf="loadingImage || error" class="card-body">
    <p *ngIf="loadingImage" class="card-text">Analizuojama...</p>
    <div *ngIf="loadingImage" class="d-flex justify-content-center">
      <div class="spinner-border text-primary" role="status">
        <span class="sr-only">Loading...</span>
      </div>
    </div>
    <p *ngIf="error" class="mb-0">{{errorText}}</p>
  </div>
  <h4 *ngIf="predictions.length > 0" class="ml-2 mt-2">Spėjimai:</h4>
  <ul class="list-group list-group-flush">
    <li *ngFor="let pred of predictions" class="list-group-item">
      {{pred.class}}
      <a *ngIf="pred.url" [href]="pred.url" target="_blank" class="card-link">wiki</a>
    </li>
  </ul>
  <div *ngIf="!loadingImage" class="p-1 d-flex justify-content-center">
    <button class="btn btn-danger px-5" (click)="clearState()">Valyti</button>
  </div>
</div>

<div *ngIf="!serverWorks && !loading" class="alert alert-danger" role="alert">
  Atsiprašome, puslapis šiuo metu neveikia. Bandykite vėliau.
</div>

<div *ngIf="loading && !loadingImage" role="status">
  <span id="loading"></span>
</div>